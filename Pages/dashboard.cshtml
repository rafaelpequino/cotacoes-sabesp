@page
@model CotacoesEPC.Pages.dashboardModel
@{
    Layout = null;
    ViewData["Title"] = "Dashboard";
}

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>@ViewData["Title"] - CotacoesEPC</title>
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="~/css/dashboard.css" />
<script src="~/js/api.js"></script>

<header class="dashboard-header">
    <div class="logo-area">
        <img src="~/images/sabesp.svg" alt="sabesp" class="logo" />
    </div>

    <nav class="menu">
        <a class="menu-item active" href="/dashboard">Dashboard</a>
        <a class="menu-item" href="/servicos">Serviços</a>
        <a class="menu-item" href="/insumos">Insumos</a>
        <a class="menu-item" href="/planilhas">Planilhas</a>
    </nav>

    <div class="user-area">
        <button class="user" type="button" id="userMenuBtn" data-bs-toggle="dropdown" aria-expanded="false">
            <div class="user-icon">R</div>
            <span class="user-name">Rafael</span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenuBtn">
            <li><h6 class="dropdown-header d-md-none">Rafael</h6></li>
            <li><hr class="dropdown-divider d-md-none"></li>
            <li><a class="dropdown-item" href="#" onclick="logout(event)">Sair</a></li>
        </ul>
    </div>
</header>

<main class="dashboard-container">
    <h2 class="title">Sistema de Compartilhamento de Cotações</h2>

    <section class="cards">
        <div class="card">
            <div class="icon">
                <img src="~/images/icons/services.svg" alt="Serviços" />
            </div>
            <div class="numbers">
                <h3><span id="servicesCount">0</span> <span>/<span id="servicesTotalCount">0</span></span></h3>
                <p>Suas cotações de serviços</p>
            </div>
        </div>

        <div class="card">
            <div class="icon">
                <img src="~/images/icons/quotes.svg" alt="Insumos" />
            </div>
            <div class="numbers">
                <h3><span id="inputsCount">0</span> <span>/<span id="inputsTotalCount">0</span></span></h3>
                <p>Suas cotações de insumos</p>
            </div>
        </div>

        <div class="card">
            <div class="icon">
                <img src="~/images/icons/spreadsheets.svg" alt="Planilhas" />
            </div>
            <div class="numbers">
                <h3><span id="spreadsheetsCount">0</span> <span>/<span id="spreadsheetsTotalCount">0</span></span></h3>
                <p>Suas planilhas</p>
            </div>
        </div>
    </section>

    <section class="tables">
        <div class="table-card">
            <h3>Últimas Cotações</h3>
            <table id="servicesTable">
                <thead>
                    <tr><th>Data</th><th>Item</th><th>Responsável</th></tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <a href="/servicos" class="link">Ver cotações</a>
        </div>

        <div class="table-card">
            <h3>Últimas Planilhas</h3>
            <table id="spreadsheetsTable">
                <thead>
                    <tr><th>Descrição</th><th>Responsável</th><th></th></tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <a href="/planilhas" class="link">Ver planilhas</a>
        </div>
    </section>
</main>

<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js"></script>
<script src="~/js/api.js"></script>
<script src="~/js/crud.js"></script>
<script src="~/js/dashboard.js"></script>